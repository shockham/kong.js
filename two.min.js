var Entity=function(a,b,c,d,e){this.x=a;this.y=b;this.Width=d;this.Height=e;this.Speed=256;this.Type="";this.Alive=!0;this.Img=new Image;this.Img.onload=function(){this.Ready=!0};this.Img.src=c;this.Rotation=0};Entity.prototype.update=function(){};Entity.prototype.draw=function(a){a.save();a.translate(this.x+this.Width/2,this.y+this.Height/2);a.rotate(this.Rotation);this.Img.Ready&&a.drawImage(this.Img,-(this.Width/2),-(this.Height/2),this.Width,this.Height);a.restore()};
var Textity=function(a,b,c,d,e){this.x=a;this.y=b;this.Text=c;this.Colour=d;this.Size=e;this.Alive=!0};Textity.prototype.update=function(){};Textity.prototype.draw=function(a){a.font=this.Size+"px 'VT323'";a.fillStyle=this.Colour;a.fillText(this.Text,this.x,this.y)};var Rectity=function(a,b,c,d,e){this.x=a;this.y=b;this.Width=d;this.Height=e;this.Colour=c;this.Alive=!0};Rectity.prototype.update=function(){};
Rectity.prototype.draw=function(a){a.fillStyle=this.Colour;a.fillRect(this.x,this.y,this.Width,this.Height)};var Linity=function(a,b,c,d,e){this.x=a;this.y=b;this.EndX=c;this.EndY=d;this.Width=e;this.Colour="#000000";this.Alive=!0};Linity.prototype.update=function(){};Linity.prototype.draw=function(a){a.save();a.fillStyle=this.Colour;a.beginPath();a.moveTo(this.x,this.y);a.lineTo(this.EndX,this.EndY);a.lineWidth=this.Width;a.stroke();a.restore()};var State=function(){this.Objects=[]};
State.prototype.add=function(a){this.Objects[this.Objects.length]=a};State.prototype.remove=function(a){this.Objects.splice(this.Objects.indexOf(a),1)};State.prototype.update=function(a){for(obj in this.Objects)this.Objects[obj].Alive&&this.Objects[obj].update(a)};State.prototype.draw=function(){for(obj in this.Objects)this.Objects[obj].Alive&&this.Objects[obj].draw(document.getElementById("game_canvas").getContext("2d"))};
var Game=function(a,b,c,d){this.canvas=document.createElement("canvas");this.canvas.id="game_canvas";this.ctx=this.canvas.getContext("2d");this.canvas.width=a;this.canvas.height=b;this.canvas.style.width=c+"px";this.canvas.style.height=d+"px";document.body.appendChild(this.canvas);this.State=new State;this.ctx.font="40px Monofett";this.ctx.textBaseline="top"};Game.prototype.update=function(a){this.State.update(a)};Game.prototype.draw=function(){this.State.draw()};var _g_;
Game.prototype.main=function(a){var b=Date.now(),c=b-then;this.draw();this.update(c/1E3);then=b;a&&(_g_=a);requestAnimationFrame(function(){_g_.main()})};var then=Date.now();Game.prototype.start=function(){then=Date.now();this.main(this)};Game.prototype.touching=function(a,b){return a.x<=b.x+b.Width&&b.x<=a.x+a.Width&&a.y<=b.y+b.Height&&b.y<=a.y+a.Height?!0:!1};
var Music=function(a){this.music=document.createElement("audio");this.music.src=a;this.music2=document.createElement("audio");this.music2.src=a};Music.prototype.play=function(){this.music.play()};Music.prototype.loop=function(a){var b=this;this.music.play();setInterval(function(){b.music.play()},a);setInterval(function(){b.music2.play()},a)};var keysDown={};addEventListener("keydown",function(a){keysDown[a.keyCode]=!0},!1);addEventListener("keyup",function(a){delete keysDown[a.keyCode]},!1);
